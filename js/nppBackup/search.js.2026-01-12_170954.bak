// Posts database - add all your posts here
const postsDatabase = [
    {
        title: "my first asmr video - paper, crinkly, liquid sounds (no talking)",
        description: "Use ðŸŽ§headphonesðŸŽ§ for the best experience! 10 different triggers featuring paper sounds, crinkly textures, liquid sounds, and more. No talking, just pure relaxing sounds for sleep, study, or stress relief.",
        url: "posts/2025/nov/favorite-asmr-triggers-video.html",
        date: "2025-11-29",
        category: "Paper ASMR, Crinkly ASMR",
        tags: ["paper", "sleep", "relaxation", "page turning", "crinkly", "tea", "book", "scroll", "video"]
    },
    {
        title: "From Breakdown to Breakthrough: How I Went All In on My Creative Dream",
        description: "I remember the exact moment the realization hit: this wasn't going to happen. All that time spent waiting to hear back was wasted. I felt lost.",
        url: "posts/2025/dec/breakdown-breakthrough-creative-dream.html",
        date: "2025-12-04",
        category: "Other",
        tags: ["writing", "pen", "paper", "creative project", "starting a business", "experiment"]
    },
	{
        title: "asmr with apple earbud mic  - crunching notebook pages, cursive writing asmr",
        description: "Watch with headphones for the best experienceðŸŽ§. Crunchy paper sounds, squishing, page turning water-damaged pages.",
        url: "posts/2025/dec/crinkly-notebook-asmr-video.html",
        date: "2025-12-06",
        category: "Writing ASMR, Crinkly ASMR, Paper ASMR",
        tags: ["writing", "pen", "paper", "sleep", "relaxation", "apple earbud" "bad mic" "notebook", "turning pages", "page turning" "crunchy sounds"]
    },
	{
        title: "asmr crinkly paper sounds & fast tapping | kraft paper, tarot cards, book page turning for tingles",
        description: "Watch with headphones for the best experience. Crunchy paper sounds, squishing, page turning water-damaged pages and kraft paper.",
        url: "posts/2025/dec/paper-scroll-crunching-asmr-video.html",
        date: "2025-12-13",
        category: "Crinkly ASMR, Paper ASMR",
        tags: ["writing", "kraft", "paper", "sleep", "relaxation", "apple earbud" ,"bad mic", "notebook", "turning pages", "page turning", "crunchy sounds", "tarot", "tissue box"]
    },
	
        title: "This is Your Permission to Take Your Dreams by the Neck",
        description: "Here's what no one tells you about survival mode: sometimes the thing that feels like safety is actually the thing that will destroy you.",
        url: "posts/2025/dec/permission-dreams-neck.html",
        date: "2025-12-21",
        category: "Other",
        tags: ["writing", "creative project", "starting a business", "dreams", "dream job", "experiment", "permission", "surival", "job", "side hustle", "chasing dreams", "fast food job", "working two jobs"]
    },
	
        title: "The Courage to be Disliked in Hyunam-Dong Bookshop",
        description: "There's this quiet emphasis on the strength of pivoting in life and the okayness of not striving for conventional success; to not try as hard as everyone says you should. There's a beauty in slowly figuring yourself out even though it can be brutal in a world where they seek to punish you for your individuality",
        url: "posts/2025/dec/courage-dislike-bookshop-book-thoughts.html",
        date: "2025-12-21",
        category: "Other",
        tags: ["book review", "books", "book thoughts", "notes on a book", "reflection", "personal essays", "bookshops", "nonfiction", "fiction", "books about books", "essays about books"]
    },


    // Add more posts as you create them
];

console.log("âœ… Search script loaded!");
console.log("ðŸ“š Total posts in database:", postsDatabase.length);

function searchPosts() {
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    const query = searchInput.value.toLowerCase().trim();
    
    if (query.length < 2) {
        searchResults.innerHTML = '';
        searchResults.style.display = 'none';
        return;
    }
    
    const results = postsDatabase.filter(post => {
        return post.title.toLowerCase().includes(query) ||
               post.description.toLowerCase().includes(query) ||
               post.category.toLowerCase().includes(query) ||
               post.tags.some(tag => tag.toLowerCase().includes(query));
    });
    
    if (results.length === 0) {
        searchResults.innerHTML = '<div class="search-result">No posts found</div>';
        searchResults.style.display = 'block';
        return;
    }
    
    let resultsHTML = '';
    results.forEach(post => {
        resultsHTML += `
            <div class="search-result">
                <h3><a href="${post.url}">${post.title}</a></h3>
                <p class="search-meta">${post.date} â€¢ ${post.category}</p>
                <p>${post.description.substring(0, 150)}...</p>
            </div>
        `;
    });
    
    searchResults.innerHTML = resultsHTML;
    searchResults.style.display = 'block';
}

// Search on Enter key
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                searchPosts();
            }
        });
        
        // Also search as user types (debounced)
        let searchTimeout;
        searchInput.addEventListener('input', function() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(searchPosts, 300);
        });
    }
});

// Close search results when clicking outside
document.addEventListener('click', function(event) {
    const searchContainer = document.querySelector('.search-container');
    const searchResults = document.getElementById('searchResults');
    
    if (searchContainer && !searchContainer.contains(event.target)) {
        searchResults.style.display = 'none';
    }
});